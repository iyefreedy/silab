(window.webpackJsonp=window.webpackJsonp||[]).push([[57,29],{1638:function(t,e,n){"use strict";n.r(e);n(9),n(30),n(31);var r=n(114),o=n(634),l=n(639),c=n(207),f={name:"Transkrip",components:{transkripComponent:function(){return n.e(150).then(n.bind(null,1723))},PdfGenerator:n(661).default},middleware:["authentication","mahasiswa"],mixins:[r.a,o.a,l.a,c.a],data:function(){return{error:null}},created:function(){var t=this,e=this.$buefy.loading.open();this.fetchMahasiswa(this.idMahasiswa).then((function(n){t.fetchCetakTranskrip(t.idMahasiswa).then((function(){})).catch((function(e){t.error=e,Promise.reject(Error(e))})).finally((function(){e.close()}))}))}},d=n(12),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("pdf-generator",{ref:"pdfGenerator",attrs:{filename:"Cetak Transkrip-"+t.idMahasiswa}},[n("transkrip-component",{on:{ready:function(e){return t.$refs.pdfGenerator.downloadPdf()}}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},634:function(t,e,n){"use strict";n(20),n(16),n(17),n(21),n(22);var r=n(8),o=(n(34),n(67),n(9),n(83),n(25),n(15),n(153),n(154)),l=n.n(o),c=n(636),f=n.n(c),d=n(18);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}e.a={computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.e)("referensi",["statusMemenuhiSyaratKrsMakulCollection","statusKrsMakulCollection"])),methods:{debounceTyping:l()((function(t,e){e.length>=3&&t(e)}),500),getDateLabel:function(t,e){return null!=t&&null!=e?t===e?this.convertTgl(t,"LL"):this.convertTgl(t,"LL")+" - "+this.convertTgl(e,"LL"):null!=t&&null==e?this.convertTgl(t,"LL"):null},parseDate:function(t){return null!=t?this.$dayjs(t).format("L"):null},getPeriodeLabel:function(t,e,n){var r,o;return 1===parseInt(n)||null==n?o=(r=parseInt(t))+1:0===parseInt(n)&&(r=(o=parseInt(t))-1),r+"/"+o+" "+this.getSemesterLabel(e)},getPeriodeLabelShorthand:function(t,e,n){var r,o;return 1===parseInt(n)||null==n?o=(r=parseInt(t))+1:0===parseInt(n)&&(r=(o=parseInt(t))-1),(r=r.toString().replace(20,""))+"/"+(o=o.toString().replace(20,""))+" "+this.getSemesterLabel(e)},getSemesterLabel:function(t){var e,n=parseInt(t);return 1===n?e="Ganjil":2===n?e="Genap":3===n?e="SP Ganjil":4===n&&(e="SP Genap"),e},getPeriodeLabelById:function(t,e){if(t){var n=t.toString(),r=n.substr(0,4),o=n.substring(4);return this.getPeriodeLabel(r,o,e)}return null},getClassStatus:function(t){var e;switch(t){case"Disetujui":e="green";break;case"Tidak Disetujui":e="red";break;case"Belum Disetujui":e="blue"}return"has-text-".concat(e," has-background-").concat(e)},getClassIndikatorMemenuhiSyarat:function(t){var e;return"has-text-".concat(e=!0===t?"green":"red"," has-background-").concat(e)},convertTgl:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&e){var r=this.$dayjs(t);if(r.isValid()){var o=r.format(e),l=o;return n&&(l="".concat(l," ").concat(this.indonesiaTimezone(r.utcOffset()/60))),l}return null}return null},indonesiaTimezone:function(t){return 8===t?"WITA":9===t?"WIT":"WIB"},getKondisiDefaultLabel:function(t){return 1===t?"Ya":"Tidak"},numberFormat:function(t){if(t){var e=t.toString();return e=e.replace(/\B(?=(\d{3})+(?!\d))/g,".")}return null},replaceDot:function(t){return t?t.toString().replace(".",","):null},currencyFormat:function(t,e){return t?(void 0===e&&(e=0),t+this.numberFormat(e.toString())):null},getJenisSemester:function(t){if(t){var e,n=t.substr(4);return"1"===n||"2"===n?e="Reguler":"3"!==n&&"4"!==n||(e="Pendek"),e}return null},checkIfGanjilOrGenap:function(t){return t%2==0?"genap":"ganjil"},getOptionValue:function(t,e){var n;return t.length>0?(t.forEach((function(t){t.kode===e&&(n=t.nama)})),n):null},getDate:function(t){if(t){var e=new Date(t);if(e instanceof Date&&!isNaN(e))return e}return null},matkulDiambil:function(t){return t.isDiambil?1===t.jenis?"is-info opacity-selected":"is-success opacity-selected":""},unescape:function(text){return f()(text)},substringText:function(text,t){if(null!=text){var e="";return text.length>=t&&(e="..."),text.substring(0,t)+e}},roundIp:function(t){return parseFloat(t)?parseFloat(t).toFixed(2):"0"}}}},636:function(t,e,n){var r=n(85),o=n(637),l=/&(?:amp|lt|gt|quot|#39);/g,c=RegExp(l.source);t.exports=function(t){return(t=r(t))&&c.test(t)?t.replace(l,o):t}},637:function(t,e,n){var r=n(326)({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});t.exports=r},639:function(t,e,n){"use strict";n(20),n(16),n(17),n(9),n(21),n(15),n(22);var r=n(8),o=n(18);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={computed:c(c({},Object(o.e)("nilai",["selectedKhs","selectedKhsPending","selectedKhsError","khsCollection","khsCollectionPending","khsCollectionError","transkrip","transkripPending","transkripError","cetakTranskrip","cetakTranskripPending","cetakTranskripError","nilaiKomponenCollection","nilaiKomponenCollectionPending","nilaiKomponenCollectionError","nilaiKonversiCollection","nilaiKonversiCollectionPending","nilaiKonversiCollectionError"])),{},{nilaiCount:function(){return this.$store.getters["nilai/nilaiCount"]}}),methods:c(c(c({},Object(o.d)({setKhsCollection:"nilai/SET_KHS_COLLECTION",setSelectedKhs:"nilai/SET_SELECTED_KHS",setTranskrip:"nilai/SET_TRANSKRIP",setCetakTranskrip:"nilai/SET_CETAK_TRANSKRIP",setNilaiKomponenCollection:"nilai/SET_NILAI_KOMPONEN_COLLECTION",setNilaiKonversiCollection:"nilai/SET_NILAI_KONVERSI_COLLECTION"})),Object(o.b)({fetchKhsCollection:"nilai/FETCH_KHS_COLLECTION",fetchSelectedKhs:"nilai/FETCH_SELECTED_KHS",fetchTranskrip:"nilai/FETCH_TRANSKRIP",fetchCetakTranskrip:"nilai/FETCH_CETAK_TRANSKRIP",fetchNilaiKomponenCollection:"nilai/FETCH_NILAI_KOMPONEN_COLLECTION",fetchNilaiKonversiCollection:"nilai/FETCH_NILAI_KONVERSI_COLLECTION"})),{},{doProsesSksSemester:function(option){var t=this,data={tahun:option.tahun,semester:option.semester};return this.$requestPost("/v1/mahasiswa/".concat(this.idMahasiswa,"/process_hitung_skssemester"),data).then((function(){t.showToast("Berhasil melakukan proses penghitungan SKS semester","is-info")})).catch((function(e){var n=e.message+". Silakan coba lagi";t.showToast(n)}))},doProsesIpsIpk:function(option){var t=this,data={tahun:option.tahun,semester:option.semester};return this.$requestPost("/v1/mahasiswa/".concat(this.idMahasiswa,"/process_ips_ipk"),data).then((function(){t.showToast("Berhasil melakukan proses penghitungan IPS dan IPK","is-info")})).catch((function(e){var n=e.message+". Silakan coba lagi";t.showToast(n)}))}})}},645:function(t,e,n){},654:function(t,e,n){"use strict";n(645)},661:function(t,e,n){"use strict";n.r(e);var r=n(13),o=(n(35),n(209),n(66),{name:"PdfGenerator",components:{VueHtml2pdf:n(676).a},props:{filename:{type:String,default:function(){return"Laporan Cetak"}},marginCustom:{type:Number,default:function(){return 1}},orientationCustom:{type:String,default:function(){return"portrait"}}},data:function(){return{contentRendered:!1,progress:0,generatingPdf:!1,pdfDownloaded:!1,controlValue:{showLayout:!1,floatLayout:!1,enableDownload:!0,previewModal:!0,paginateElementsByHeight:1100,manualPagination:!0,pdfQuality:2,pdfFormat:"a4",pdfOrientation:"portrait",pdfContentWidth:"800px"}}},computed:{htmlToPdfOptions:function(){return{margin:this.marginCustom,filename:"".concat(this.filename,".pdf"),image:{type:"png",quality:1},enableLinks:!0,html2canvas:{scale:this.controlValue.pdfQuality,useCORS:!0},jsPDF:{unit:"cm",format:this.controlValue.pdfFormat,orientation:this.orientationCustom,compress:!0,putOnlyUsedFonts:!0}}}},methods:{downloadPdf:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.validateControlValue();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:t.$refs.html2Pdf.generatePdf();case 5:case"end":return e.stop()}}),e)})))()},validateControlValue:function(){if(this.controlValue.pdfQuality>2)return alert("pdf-quality value should only be 0 - 2"),this.controlValue.pdfQuality=2,!1;if(!this.controlValue.paginateElementsByHeight)return alert("paginate-elements-by-height value cannot be empty"),this.controlValue.paginateElementsByHeight=1400,!1;var t=["a0","a1","a2","a3","a4","letter","legal","a5","a6","a7","a8","a9","a10"];return t.includes(this.controlValue.pdfFormat)?this.controlValue.pdfOrientation?!!this.controlValue.pdfContentWidth||(alert("pdf-content-width value cannot be empty"),this.controlValue.pdfContentWidth="800px",!1):(alert("pdf-orientation value cannot be empty"),this.controlValue.pdfOrientation="portrait",!1):(alert("pdf-format value should only be ".concat(t)),this.controlValue.pdfFormat="a4",!1)}}}),l=(n(654),n(12)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("client-only",[n("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":t.controlValue.showLayout,"float-layout":t.controlValue.floatLayout,"enable-download":t.controlValue.enableDownload,"preview-modal":t.controlValue.previewModal,filename:t.filename,"paginate-elements-by-height":t.controlValue.paginateElementsByHeight,"pdf-quality":t.controlValue.pdfQuality,"pdf-format":t.controlValue.pdfFormat,"pdf-orientation":t.controlValue.pdfOrientation,"pdf-content-width":t.controlValue.pdfContentWidth,"manual-pagination":t.controlValue.manualPagination,"html-to-pdf-options":t.htmlToPdfOptions}},[n("template",{slot:"pdf-content"},[t._t("default")],2)],2)],1)],1)}),[],!1,null,"59c46c2e",null);e.default=component.exports}}]);